# Create a static web site with Pelican and Python

[Pelican](https://getpelican.com/)

There is a [great tutorial about using Pelican](https://www.fullstackpython.com/blog/generating-static-websites-pelican-jinja2-markdown.html) at the Full Stack Python blog.

## Install Pelican



Create a directory for your web site and create a virtual environment

```bash
$ mkdir my_web_site
$ cd my_web_site
$ pythons -m venv env
$ source env/bin/activate
(env) $
```

Install Pelican with the Markdown [extras](https://stackoverflow.com/questions/46775346/what-do-square-brackets-mean-in-pip-install) enabled:

```bash
(env) $ pip install "pelican[markdown]"
```

## Initialize web site project

```bash
(env) $ pelican-quickstart
```

This script asks some questions and uses your answers to populate the configuration files. I already registered a URL for my web site so I answered "yes" when asked if I want to specify a URL prefix.  I found the correct responses to the question about time zones can be found in the [Wikipedia list of standard time zones](ttps://en.wikipedia.org/wiki/List_of_tz_database_time_zones). I will deploy my website to [Netlify](https://www.netlify.com/)(https://www.netlify.com/blog/2016/10/27/a-step-by-step-guide-deploying-a-static-site-or-single-page-app/) via a [GitHub integration](https://codelapan.com/post/how-to-upload-or-deploy-static-website-on-netlify) so I do not need to use Pelican to upload files so I answered "no" to the question asking me if I wanted to create a Makefile to automate publishing.

```bash
Welcome to pelican-quickstart v4.8.0.

This script will help you create a new Pelican-based website.

Please answer the following questions so this script can generate the files
needed by Pelican.
    
> Where do you want to create your new web site? [.] 
> What will be the title of this web site? Learning with Code
> Who will be the author of this web site? Brian Linkletter
> What will be the default language of this web site? [en] 
> Do you want to specify a URL prefix? e.g., https://example.com   (Y/n) y
> What is your URL prefix? (see above example; no trailing slash) https://learnwithcode.com
> Do you want to enable article pagination? (Y/n) y
> How many articles per page do you want? [10] 
> What is your time zone? [Europe/Rome] America/Toronto
> Do you want to generate a tasks.py/Makefile to automate generation and publishing? (Y/n) n
Done. Your new project is available at /home/brian/Projects/python-web-site
```

You can go back and edit the Pelican configuration file later if you need to change any settings. For example, I will have to update the configuration files when I decide the service to which I will upload my web site.

If you look at the directory, you will see that the *pelican-quickstart* script created some new directories and configuration files.

```python
(env) $ ls
content  env   output  pelicanconf.py  publishconf.py 
```

The *content* directory will contain the blog posts. Each post will be a single markdown file. The *pelicanconf.py* and *publishconf.py* arte python scripts that generate configuration information. The *output* file will contain the files generated by Pelican that create the static website. Currently, it is empty.


### Quick test

Create a dummy blog post in the *content* directory to quickly check that the site is working

```bash
(env) $ cd content
(env) $ nano use-environment-variables-python.md
```

```
title: Use environment variables to protect your secrets
slug: use-environment-variables-python
date: 2023-06-07
modified: 2023-06-07

# Use environment variables to protect your secrets

Environment variables are key-value pairs that are are set outside of a Python program but may be accessed by the program during its execution.

<!--more-->

## Why use environment variables

There are many reasons to use environment variables instead of just hard-coding program configuration information in your program's source code:

1. Security

   Normally, you do not want to reveal sensitive information like passwords, database credentials, or API keys to anyone who looks at your code. 

## Conclusion

This was a test created by copying content from one of my posts
```

```bash
(env) $ pelican
[22:40:11] WARNING  Watched path does not exist:                       log.py:91
                    /home/brian/Projects/python-web-site/content/image          
                    s                                                           
Done: Processed 1 article, 0 drafts, 0 hidden articles, 0 pages, 0 hidden pages 
and 0 draft pages in 0.09 seconds.
```

```bash
(env) $ pelican --listen
Serving site at: http://127.0.0.1:8000 - Tap CTRL-C to stop
[22:42:13] INFO     "GET / HTTP/1.1" 200 -                         server.py:121
           INFO     "GET /theme/css/main.css HTTP/1.1" 200 -       server.py:121
           INFO     "GET /theme/css/reset.css HTTP/1.1" 200 -      server.py:121
           INFO     "GET /theme/css/pygment.css HTTP/1.1" 200 -    server.py:121
           INFO     "GET /theme/css/typogrify.css HTTP/1.1" 200 -  server.py:121
           INFO     "GET /theme/css/fonts.css HTTP/1.1" 200 -      server.py:121
           INFO     "GET /theme/fonts/Yanone_Kaffeesatz_400.woff   server.py:121
                    HTTP/1.1" 200 -                                             
           WARNING  Unable to find `/favicon.ico` or variations:       log.py:91
                    /favicon.ico.html                                           
                    /favicon.ico/index.html                                     
                    /favicon.ico
```

You see that the blog shows one post. 

![](./images/blog_test.png)

I learned some things already. The Markdown "#" tag is no used as the top level title. The title is defined in the post metadata at the top of the file. So, I can use the "#" as a chapter title in the post.

Hit CTRL-C to stop the server.

Trying again with the following. Edit the *contents/use-environment-variables-python.md* file as follows:

```
title: Use environment variables to protect your secrets
slug: use-environment-variables-python
date: 2023-06-07
modified: 2023-06-07

Environment variables are key-value pairs that are are set outside of a Python program but may be accessed by the program during its execution.

<!--more-->

# Why use environment variables

There are many reasons to use environment variables instead of just hard-coding program configuration information in your program's source code:

1. Security

   Normally, you do not want to reveal sensitive information like passwords, database credentials, or API keys to anyone who looks at your code. 

# Conclusion

This was a test created by copying content from one of my posts
```

Run the pelican command again:

```bash
(env) $ pelican
(env) $ pelican --listen
```

The post looks better


Now capture the image of the blog and save it in a new directory named *images* and put the screen capture in there. then add it to the blog post.

# Themes

Next, pick a theme for the blog. The default theme looks OK but bloggers like to customize the blog.

Try the [*Flex* theme](https://github.com/alexandrevicenzi/Flex)

https://docs.getpelican.com/en/latest/pelican-themes.html

```bash
pelican-themes --list
```
```
notmyidea
simple
```

install the "Flex" theme

get v2.5 of the flex theme files

https://github.com/alexandrevicenzi/Flex/releases/tag/v2.5.0

and store the archive on your PC in the Downloads folder

uncompress the file

install

(env) $ pelican-themes --install ~/Downloads/Flex-2.5.0/

(env) $ pelican-themes --list

Flex-2.5.0
notmyidea
simple

Now switch to the Flex theme:

Add the following line to pelicanconf.py

```
THEME = 'Flex-2.5.0'
```

Then run pelican again

```bash
(env) $ pelican
(env) $ pelican --listen
```


Customizing themes
https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/

https://geekyshacklebolt.wordpress.com/2020/08/18/how-to-use-a-custom-pelican-blog-theme/

Look at customization options for Flex them

https://github.com/alexandrevicenzi/Flex/wiki/Custom-Settings

You need to add more to the pelicanconf.py file to get a more fine-tunes look



## Images

How to add images to posts. images directory

## Pages or posts

What if I want pages? Like an "about" page




## Publishing

Add publishing info to settings

https://docs.getpelican.com/en/latest/publish.html
https://docs.getpelican.com/en/latest/settings.html



